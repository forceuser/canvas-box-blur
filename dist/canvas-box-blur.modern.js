!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.canvasBoxBlur=e():t.canvasBoxBlur=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t,e=0,{iterations:n=1,x:o=0,y:r=0,width:u,height:f}={}){if(e<1)return;u=null==u?t.width:u,f=null==f?t.height:f;const i=t.getContext("2d"),l=i.getImageData(o,r,u,f),a=l.data;let c,d,s,p,y,b,h,x,g,m,j;const v=u-1,M=f-1,O=e+1,_=Math.pow(2*e,2),P=[],S=[],w=[],B=[],D=[],I=[],T=t=>{const e=a[t+3];return[e*a[t]/255,e*a[t+1]/255,e*a[t+2]/255,e]};for(;n>0;){n--,m=g=0;for(let t=0;t<f;t++){const n=T(m);c=n[0]*O,d=n[1]*O,s=n[2]*O,p=n[3]*O;for(let t=1;t<=e;t++){const e=T(m+((t>v?v:t)<<2));c+=e[0],d+=e[1],s+=e[2],p+=e[3]}for(let n=0;n<u;n++){P[g]=c,S[g]=d,w[g]=s,B[g]=p,0==t&&(y=n+O,D[n]=(y<v?y:v)<<2,y=n-e,I[n]=y>0?y<<2:0),b=m+D[n],h=m+I[n];const o=T(b),r=T(h);c+=o[0]-r[0],d+=o[1]-r[1],s+=o[2]-r[2],p+=o[3]-r[3],g++}m+=u<<2}for(let t=0;t<u;t++){x=t,c=P[x]*O,d=S[x]*O,s=w[x]*O,p=B[x]*O;for(let t=1;t<=e;t++)x+=t>M?0:u,c+=P[x],d+=S[x],s+=w[x],p+=B[x];g=t<<2;for(let n=0;n<f;n++)a[g+3]=j=Math.round(p/_),j>0?(j=255/j,a[g]=Math.round(c/_*j),a[g+1]=Math.round(d/_*j),a[g+2]=Math.round(s/_*j)):a[g]=a[g+1]=a[g+2]=0,0==t&&(y=n+O,D[n]=(y<M?y:M)*u,y=n-e,I[n]=y>0?y*u:0),b=t+D[n],h=t+I[n],c+=P[b]-P[h],d+=S[b]-S[h],s+=w[b]-w[h],p+=B[b]-B[h],g+=u<<2}}i.putImageData(l,o,r)}n.r(e),n.d(e,"default",(function(){return o}))}]).default}));
//# sourceMappingURL=canvas-box-blur.modern.js.map